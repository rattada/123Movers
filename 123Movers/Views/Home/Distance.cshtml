@model  _123Movers.Models.DistanceModel

@using _123Movers.Models;
@{
    ViewBag.Title = "Edit Budget";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<input type="hidden" id="message" value="@ViewBag.Success"/>
@Html.AntiForgeryToken()

@Html.ValidationSummary(true)

@using (Html.BeginForm("Distance", "Home", FormMethod.Post, new { id = "frmDistance" }))
{

    <p class="clearfix"></p>
    <div class="row">
    <div class="table-responsive">
        <table id="tblDistance" class="table table-striped table-bordered">

            <thead>
                <tr>
                    <th>Service</th>
                    <th>Minimum Weight </th>
                    <th>Maximum Weight</th>

                </tr>

            </thead>
            <tbody>
                <tr>
                    <td>
                    
                        @Html.DropDownListFor(m => m.ServiceId, ViewBag.Services as IEnumerable<SelectListItem>,"--Choose One--", new { id = "ddlServiceID", @class = "form-control dropdown", @title = "Select Services" })
                        @Html.ValidationMessageFor(m => m.ServiceId)

                    <td>
                            @Html.TextBoxFor(m => m.MinMoveWeight, new { @class = "form-control", Value = String.Format("{0:0.00}", Model.MinMoveWeight) })
                            @Html.ValidationMessageFor(m => m.MinMoveWeight)
                    <td>
                        @Html.TextBoxFor(m => m.MaxMoveWeight, new { @class = "form-control", Value = String.Format("{0:0.00}", Model.MaxMoveWeight) })
                            @Html.ValidationMessageFor(m => m.MaxMoveWeight)</td>

                </tr>
            </tbody>
        </table>

    </div>
   </div>
        
       
    <div class="row">
        <div class="col-md-6">
            <a href="#" onclick="history.go(-1);return false;" class="btn btn-primary">Back To List</a>
        </div>
        <div class="col-md-6">
            <input type="submit" value='Save Distance' id='saveDistance' class='btn btn-primary pull-right'>
        </div>
    </div>
}
<script type="text/javascript">
    $(function () {

        var message = $.trim($('#message').val());
        if (typeof message === 'undefined' || message.length <= 0) { } else { alert(message); }


        $("body").parent().on('click', "#saveDistance", function () {

            var serviceId = $('#ddlServiceID').val();
            var MinWeight = $("#MinMoveWeight").val().trim();
            var MaxWeight = $("#MaxMoveWeight").val().trim();

            if (serviceId != null && serviceId != '') {

                if ($("#MinMoveWeight").val().length == 0 && $("#MaxMoveWeight").val().length == 0) {
                    alert('Please enter atleast one Weight');
                    return false;

                } 

            }
        });

    });
    </script>